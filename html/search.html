<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
        html{height:100%}  
        body{height:100%;margin:0px;padding:0px;background: aliceblue}  
        #searchMapContainer{display: none}  
    </style>
    <link rel="stylesheet" type="text/css" href="../css/search.css">
    <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=GfXpYTNcsBIlT3yq6HmelAtzAs8doW1O"></script>
    <title>位置查询</title>
</head>
<body>
    <div id="title">位置查询</div>
    <div id="inputContainer">
        <input id="suggestId" type="text" class="searchText" placeholder="搜索地点">
        <div class="searchBtn" onclick="onSearch()"></div>
    </div>
    <div class="Buttons">
        <box3>
            <a onclick="onCancel()">返回首页</a>
        </box3>
        <box3>
            <a onclick="onAddCenter()">添加原点</a>
        </box3>
        <box3>
            <a onclick="onAddSite()">添加终点</a>
        </box3>
    </div>
    <div id="r-result"></div>
    <div id="searchMapContainer"></div>
    <div id="siteDiv">
            <label for="">添加终点</label>
            <groupDiv>
                <label for="">小组:</label>
                <select id="groupSelect"></select>
            </groupDiv>
            <siteDiv> 
                <label for="" value="" id="siteData">终点名称:</label>
                <input type="text" id="siteInput"/>
            </siteDiv>
            <btnGroup>
                <btn id="btnBegin" onclick="openSiteGroupDiv()">添加小组</btn>
                <btn id="btnExit" onclick="addSiteConfirm()">确定</btn>
                <btn id="btnEnd" onclick="closeSiteDiv()">退出</btn>
            </divGroup>
    </div>
    <!-- <div id="setSiteGroupRect">
            <label for="">添加小组</label>
            <groupDiv> 
                <label for="">小组名称:</label>
                <input type="text" />    
            </groupDiv>
            <btnGroup>
                <btn onclick="">确定</btn>
                <btn onclick="">退出</btn>
            </divGroup>
    </div> -->
    <script type="text/javascript" src="../src/localStorage.js"></script>
    <script type="text/javascript" src="../src/utility.js"></script>
    <script type="text/javascript" src="../src/searchKeyWord.js"></script>
    <script>
        initSearchPage();

        function onCancel(){
            window.location.href = "../index.html";
        };
        
        //添加原点
        function onAddCenter(){
            if(setCenterPoint()){
                window.location.href = "../index.html";
            }
        };

        //添加终点
        function onAddSite(){
            //打开"添加终点"div
            openSiteDiv();
        };

        //开始搜索
        function onSearch(){
            searchPlace();
        }

        //关闭"添加终点"div
		function closeSiteDiv(){
			document.getElementById("siteDiv").style.display="none";
        }

        //打开"添加小组"prompt
		function openSiteGroupDiv(){
            var name = window.prompt("请输入小组名称:");
            if(name){
                setSiteGroup(name+"/,/false");
            }
        }
        
        //确认添加终点
        function addSiteConfirm(){
            setSitePoint();
        }

    </script>
</body>
</html>